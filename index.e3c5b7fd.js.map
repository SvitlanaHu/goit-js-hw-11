{"mappings":"AAQAA,eAAeC,IACX,MAAMC,EAAOC,SAASC,cAAc,QAE9BC,EAAaF,SAASD,KAAKI,aAC3BC,EAAeC,OAAOC,YAEXD,OAAOE,QAIIH,EAFVF,EAAaE,EAAe,SAMpCI,gBACNT,EAAKU,UAAUC,IAAI,0BAEnBX,EAAKU,UAAUE,OAAO,wB,CAK9B,SAASC,EAASC,EAAQC,GAEtB,IAAIC,EAAQ,KAEZ,OAAO,YAAoBC,GACnBD,IAEJA,EAAQE,YAAW,KACfJ,KAAUG,GAEVE,aAAaH,GACbA,EAAQ,IAAI,GACbD,G,EA1CXT,OAAOc,SAAW,IAAMrB,IAIpBO,OAAOe,iBAAiB,SAAUR,EAASd,EAAe,MAC1DO,OAAOe,iBAAiB,SAAUR,EAASd,EAAe","sources":["src/js/header-scroll.js"],"sourcesContent":["window.onscroll = () => checkPosition();\n\n// тепер призначимо обробником подій трохи загальмовану функцію:\n; (() => {\n    window.addEventListener('scroll', throttle(checkPosition, 250));\n    window.addEventListener('resize', throttle(checkPosition, 250));\n})()\n\nasync function checkPosition() {\n    const body = document.querySelector('body');\n    // Нам потрібно знати висоту документа та висоту екрану:\n    const bodyHeight = document.body.offsetHeight;\n    const screenHeight = window.innerHeight;\n    // Записуємо, скільки пікселів користувач вже проскролив:\n    const scrolled = window.scrollY;\n    // Позначимо поріг, після наближення якого викликатимемо якусь дію. У нашому випадку – чверть екрана до кінця сторінки:\n    const threshold = bodyHeight - screenHeight / 4;\n    // Відстежуємо, де знаходиться низ екрана щодо сторінки:\n    const position = scrolled + screenHeight;\n\n    if (position > threshold) {\n        // Якщо ми перетнули смугу-поріг, викликаємо потрібну дію.\n        await fetchPictures()\n        body.classList.add('body--no-transparency');\n    } else {\n        body.classList.remove('body--no-transparency');\n    }\n}\n\n\nfunction throttle(callee, timeout) {\n    // Обробку прокручування варто трохи пригальмовувати, щоб вона виконувалася трохи рідше і таким чином менше навантажувала браузер. Додамо функцію throttle()\n    let timer = null;\n\n    return function perform(...args) {\n        if (timer) return;\n\n        timer = setTimeout(() => {\n            callee(...args);\n\n            clearTimeout(timer);\n            timer = null;\n        }, timeout)\n    }\n}"],"names":["async","$c8ef77e7f7ecd6cb$var$checkPosition","body","document","querySelector","bodyHeight","offsetHeight","screenHeight","window","innerHeight","scrollY","fetchPictures","classList","add","remove","$c8ef77e7f7ecd6cb$var$throttle","callee","timeout","timer","args","setTimeout","clearTimeout","onscroll","addEventListener"],"version":3,"file":"index.e3c5b7fd.js.map"}